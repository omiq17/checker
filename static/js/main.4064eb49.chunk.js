(this.webpackJsonpchecker=this.webpackJsonpchecker||[]).push([[0],{11:function(e,t,a){e.exports=a(19)},16:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(5),o=a.n(i),l=(a(16),a(1)),c=a.n(l),s=a(3),u=a(2),h=a(6),v=a(7),g=a(9),f=a(8),p=a(10);a(18);function d(e){var t=e.value,a=e.highlight,n=e.handleClick,i=e.position,o={field:{background:0===t?"#d2624c":"#795548",boxShadow:1===a?"inset 0 0 2px 2px white":"inset 0 0 0 0 white"}},l={0:null,10:null,11:"player1.png",12:"player2.png",13:"player1K.png",14:"player2K.png"};return r.a.createElement("div",{className:"col",style:o.field,onClick:function(){return n(i)}},l[t.toString()]&&r.a.createElement("img",{src:l[t.toString()],alt:l[t.toString()]}))}function m(e){var t=e.values,a=e.highlight,n=e.handleClick;return r.a.createElement("div",null,t.map((function(e,t){return r.a.createElement("div",{className:"row",key:t},e.map((function(e,i){return r.a.createElement(d,{value:e,highlight:a[t][i],position:[t,i],handleClick:n,key:i})})))})))}function b(){return r.a.createElement("div",null)}var k=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).switchPlayer=function(){a.setState({player:1===a.state.player?2:1,availableMoves:{from:[],to:[]},current:[],moveType:1,mandatory:!1},Object(u.a)(c.a.mark((function e(){var t,n,r,i,o,l,u,h,v,g,f,p,d,m,b,k,y,w,x,M,E,S,O;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.state.values.slice(),n=a.state.player,r=!0,i=!1,o=void 0,e.prev=5,l=t.entries()[Symbol.iterator]();case 7:if(r=(u=l.next()).done){e.next=48;break}h=u.value,v=Object(s.a)(h,2),g=v[0],f=v[1],p=!0,d=!1,m=void 0,e.prev=15,b=f.entries()[Symbol.iterator]();case 17:if(p=(k=b.next()).done){e.next=31;break}if(y=k.value,w=Object(s.a)(y,2),x=w[0],!((M=w[1])>10&&M%2===n%2)){e.next=28;break}return E=M>12,S=a.getAllMoves(n,E,1,g,x),O=a.getAllMoves(n,E,2,g,x),e.next=28,a.checkMandatoryMove(t,n,S,O,[g,x],"2");case 28:p=!0,e.next=17;break;case 31:e.next=37;break;case 33:e.prev=33,e.t0=e.catch(15),d=!0,m=e.t0;case 37:e.prev=37,e.prev=38,p||null==b.return||b.return();case 40:if(e.prev=40,!d){e.next=43;break}throw m;case 43:return e.finish(40);case 44:return e.finish(37);case 45:r=!0,e.next=7;break;case 48:e.next=54;break;case 50:e.prev=50,e.t1=e.catch(5),i=!0,o=e.t1;case 54:e.prev=54,e.prev=55,r||null==l.return||l.return();case 57:if(e.prev=57,!i){e.next=60;break}throw o;case 60:return e.finish(57);case 61:return e.finish(54);case 62:case"end":return e.stop()}}),e,null,[[5,50,54,62],[15,33,37,45],[38,,40,44],[55,,57,61]])}))))},a.checkMandatoryMove=function(){var e=Object(u.a)(c.a.mark((function e(t,n,r,i,o,l){var u,h,v,g,f,p,d,m,b,k,y,w;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(u=JSON.parse(JSON.stringify(a.state.availableMoves)),h=0,v=0,g=!0,f=!1,p=void 0,e.prev=6,d=r.entries()[Symbol.iterator]();!(g=(m=d.next()).done);g=!0)b=m.value,k=Object(s.a)(b,2),y=k[0],w=k[1],h=w?t[w[0]][w[1]]:0,v=i[y]?t[i[y][0]][i[y][1]]:0,h>10&&h%2!==n%2&&10===v&&(console.log(h,n,v,o,l,"@debug"),a.highlightField(i[y][0],i[y][1]),a.highlightField(o[0],o[1]),u.from.push(o),u.to.push(i[y]));e.next=14;break;case 10:e.prev=10,e.t0=e.catch(6),f=!0,p=e.t0;case 14:e.prev=14,e.prev=15,g||null==d.return||d.return();case 17:if(e.prev=17,!f){e.next=20;break}throw p;case 20:return e.finish(17);case 21:return e.finish(14);case 22:if(!(u.from.length>0)){e.next=28;break}return e.next=25,a.setState({moveType:0,availableMoves:u,mandatory:!0});case 25:return e.abrupt("return",1);case 28:return e.abrupt("return",2);case 29:case"end":return e.stop()}}),e,null,[[6,10,14,22],[15,,17,21]])})));return function(t,a,n,r,i,o){return e.apply(this,arguments)}}(),a.highlightField=function(e,t){var n=a.state.highlight.slice();n[e][t]=1,n=a.setState({highlight:n})},a.disableHighlight=function(e){var t=Array(8).fill().map((function(){return Array(8).fill(0)}));a.setState({highlight:t},(function(){return e(!0)}))},a.findMoveTypes=function(e,t,n,r,i){var o={from:[],to:[]},l={from:[],to:[]},c=0,s=0;n.forEach((function(a,n){c=a?e[a[0]][a[1]]:0,s=r[n]?e[r[n][0]][r[n][1]]:0,10===c?(l.from.push(i),l.to.push(a)):c%2!==t%2&&10===s&&(o.from.push(i),o.to.push(r[n]))})),o.from.length>0?(o.from.forEach((function(e,t){a.highlightField(e[0],e[1]),a.highlightField(o.to[t][0],o.to[t][1])})),a.setState({moveType:0,availableMoves:o})):(l.from.forEach((function(e,t){a.highlightField(e[0],e[1]),a.highlightField(l.to[t][0],l.to[t][1])})),a.setState({moveType:1,availableMoves:l}))},a.checkGameState=function(e,t,n,r,i,o){return 12===n[0]?(console.log("1 win"),a.resetGame(),{king:t,newKing:!1,gameEnd:!0}):12===n[1]?(console.log("2 win"),a.resetGame(),{king:t,newKing:!1,gameEnd:!0}):!t&&1===e&&0===i||2===e&&7===i?(r[i][o]=10+e+2,a.setState({values:r}),{king:!0,newKing:!0,gameEnd:!1}):{king:t,newKing:!1,gameEnd:!1}},a.movePiece=function(){var e=Object(u.a)(c.a.mark((function e(t,n,r,i,o,l){var s,h,v;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t[l[0]][l[1]]=t[o[0]][o[1]],t[o[0]][o[1]]=10,s=a.state.captured.slice(),0===i&&(h=(l[0]+o[0])/2,v=(l[1]+o[1])/2,t[h][v]=10,s[n-1]=s[n-1]+1),0,e.next=7,a.setState({captured:s,availableMoves:{from:[],to:[]}},Object(u.a)(c.a.mark((function e(){var o,u,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.checkGameState(n,r,s,t,l[0],l[1]);case 2:if(!(o=e.sent).gameEnd){e.next=5;break}return e.abrupt("return",0);case 5:if(o.gameEnd||o.newKing||0!==i){e.next=17;break}return u=a.getAllMoves(n,o.king,1,l[0],l[1]),h=a.getAllMoves(n,o.king,2,l[0],l[1]),a.disableHighlight((function(e){})),e.next=11,a.checkMandatoryMove(t,n,u,h,[l[0],l[1]],"1");case 11:if(1!==e.sent){e.next=16;break}return e.abrupt("return",0);case 16:a.switchPlayer();case 17:(1===i||o.newKing)&&a.disableHighlight((function(e){e&&a.switchPlayer()}));case 18:case"end":return e.stop()}}),e)}))));case 7:case"end":return e.stop()}}),e)})));return function(t,a,n,r,i,o){return e.apply(this,arguments)}}(),a.getAllMoves=function(e,t,a,n,r){var i=[];return(t?[[n-a,r-a],[n-a,r+a],[n+a,r-a],[n+a,r+a]]:1===e?[[n-a,r-a],[n-a,r+a]]:[[n+a,r-a],[n+a,r+a]]).forEach((function(e){0<=e[0]&&e[0]<=7&&0<=e[1]&&e[1]<=7?i.push(e):i.push(null)})),i},a.handleClick=function(e){console.log(e,"pos");var t=a.state,n=t.player,r=t.availableMoves,i=t.moveType,o=t.mandatory,l=a.state.values.slice(),c=Object(s.a)(e,2),u=c[0],h=c[1],v=l[u][h],g=v>12;r.to.map((function(e,t){return e[0]===u&&e[1]===h?(a.movePiece(l,n,g,i,r.from[t],e),0):0})),o||0===v||10===v||v%2!==n%2||a.disableHighlight((function(t){t&&a.highlightField(u,h);var r=a.getAllMoves(n,g,1,u,h),i=a.getAllMoves(n,g,2,u,h);a.findMoveTypes(l,n,r,i,e)}))},a.state={values:[[0,12,0,12,0,12,0,12],[12,0,12,0,12,0,12,0],[0,12,0,12,0,12,0,12],[10,0,10,0,10,0,10,0],[0,10,0,10,0,10,0,10],[11,0,11,0,11,0,11,0],[0,11,0,11,0,11,0,11],[11,0,11,0,11,0,11,0]],highlight:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],player:1,current:[],captured:[0,0],availableMoves:{from:[],to:[]},moveType:1,mandatory:!1},a}return Object(p.a)(t,e),Object(v.a)(t,[{key:"resetGame",value:function(){this.setState({values:[[0,12,0,12,0,12,0,12],[12,0,12,0,12,0,12,0],[0,12,0,12,0,12,0,12],[10,0,10,0,10,0,10,0],[0,10,0,10,0,10,0,10],[11,0,11,0,11,0,11,0],[0,11,0,11,0,11,0,11],[11,0,11,0,11,0,11,0]],highlight:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],player:1,current:[],captured:[0,0],availableMoves:{from:[],to:[]},moveType:1,mandatory:!1})}},{key:"render",value:function(){var e={background:2===this.state.player?"linear-gradient(180deg, rgba(225, 99, 75, 1) 11%, rgba(255, 255, 255, 1) 100%)":"linear-gradient(180deg, rgba(255,255,255,1) 11%, rgba(57, 41, 29,1) 100%)"};return r.a.createElement("div",{className:"App",style:e},r.a.createElement("h1",null,"Checkers"),r.a.createElement(m,{values:this.state.values,highlight:this.state.highlight,handleClick:this.handleClick}),r.a.createElement(b,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[11,1,2]]]);
//# sourceMappingURL=main.4064eb49.chunk.js.map