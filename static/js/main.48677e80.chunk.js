(this.webpackJsonpchecker=this.webpackJsonpchecker||[]).push([[0],{11:function(e,t,a){e.exports=a(19)},16:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(5),l=a.n(i),o=(a(16),a(1)),c=a.n(o),s=a(2),u=a(3),h=a(6),v=a(7),f=a(9),p=a(8),g=a(10);a(18);function m(e){var t=e.value,a=e.highlight,r=e.handleClick,i=e.position,l={field:{background:0===t?"#d2624c":"#795548",boxShadow:1===a?"inset 0 0 0.17em 0.17em white":2===a?"inset 0 0 0.17em 0.17em #E91E63":3===a?"inset 0 0 0.17em 0.17em #ffc107":"inset 0 0 0 0 white"}},o={0:null,10:null,11:"player1.png",12:"player2.png",13:"player1K.png",14:"player2K.png"};return n.a.createElement("div",{className:"col",style:l.field,onClick:function(){return r(i)}},o[t.toString()]&&n.a.createElement("img",{src:o[t.toString()],alt:o[t.toString()]}))}function d(e){var t=e.values,a=e.highlight,r=e.handleClick;return n.a.createElement("div",null,t.map((function(e,t){return n.a.createElement("div",{className:"row",key:t},e.map((function(e,i){return n.a.createElement(m,{value:e,highlight:a[t][i],position:[t,i],handleClick:r,key:i})})))})))}function b(e){var t=e.player,a=e.mandatory,r=e.chooseInputMode,i=e.captured,l=e.resetGame,o=e.red,c=e.black,s=12===i[0]?"BLACK":12===i[1]?"RED":"";return n.a.createElement("div",{className:"score"},""===s?n.a.createElement("h2",null,1===t?"Black":"Red","'s ",a?"mandatory move":"turn"):n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",null,"Player ",s," has won!")),n.a.createElement("p",null,r&&"Choose which piece to capture with"),n.a.createElement("div",{className:"counter"},n.a.createElement("p",null,"Black: ",c),n.a.createElement("p",null,"Red: ",o),n.a.createElement("p",{className:"rematch",onClick:function(){return l()}},"Rematch")))}var y=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(p.a)(t).call(this,e))).switchPlayer=function(){a.setState({player:1===a.state.player?2:1,availableMoves:{from:[],to:[]},current:[],moveType:1,mandatory:!1},Object(u.a)(c.a.mark((function e(){var t,r,n,i,l,o,u,h,v,f,p,g,m,d,b,y,k,w,E,x,M,S,O;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.state.values.slice(),r=a.state.player,n=!0,i=!1,l=void 0,e.prev=5,o=t.entries()[Symbol.iterator]();case 7:if(n=(u=o.next()).done){e.next=48;break}h=u.value,v=Object(s.a)(h,2),f=v[0],p=v[1],g=!0,m=!1,d=void 0,e.prev=15,b=p.entries()[Symbol.iterator]();case 17:if(g=(y=b.next()).done){e.next=31;break}if(k=y.value,w=Object(s.a)(k,2),E=w[0],!((x=w[1])>10&&x%2===r%2)){e.next=28;break}return M=x>12,S=a.getAllMoves(r,M,1,f,E),O=a.getAllMoves(r,M,2,f,E),e.next=28,a.checkMandatoryMove(t,r,S,O,[f,E]);case 28:g=!0,e.next=17;break;case 31:e.next=37;break;case 33:e.prev=33,e.t0=e.catch(15),m=!0,d=e.t0;case 37:e.prev=37,e.prev=38,g||null==b.return||b.return();case 40:if(e.prev=40,!m){e.next=43;break}throw d;case 43:return e.finish(40);case 44:return e.finish(37);case 45:n=!0,e.next=7;break;case 48:e.next=54;break;case 50:e.prev=50,e.t1=e.catch(5),i=!0,l=e.t1;case 54:e.prev=54,e.prev=55,n||null==o.return||o.return();case 57:if(e.prev=57,!i){e.next=60;break}throw l;case 60:return e.finish(57);case 61:return e.finish(54);case 62:case"end":return e.stop()}}),e,null,[[5,50,54,62],[15,33,37,45],[38,,40,44],[55,,57,61]])}))))},a.checkMandatoryMove=function(){var e=Object(u.a)(c.a.mark((function e(t,r,n,i,l){var o,u,h,v,f,p,g,m,d,b,y,k;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=JSON.parse(JSON.stringify(a.state.availableMoves)),u=0,h=0,v=!0,f=!1,p=void 0,e.prev=6,g=n.entries()[Symbol.iterator]();!(v=(m=g.next()).done);v=!0)d=m.value,b=Object(s.a)(d,2),y=b[0],k=b[1],u=k?t[k[0]][k[1]]:0,h=i[y]?t[i[y][0]][i[y][1]]:0,u>10&&u%2!==r%2&&10===h&&(a.highlightField(i[y][0],i[y][1],3),a.highlightField(l[0],l[1],1),o.from.push(l),o.to.push(i[y]));e.next=14;break;case 10:e.prev=10,e.t0=e.catch(6),f=!0,p=e.t0;case 14:e.prev=14,e.prev=15,v||null==g.return||g.return();case 17:if(e.prev=17,!f){e.next=20;break}throw p;case 20:return e.finish(17);case 21:return e.finish(14);case 22:if(!(o.from.length>0)){e.next=28;break}return e.next=25,a.setState({moveType:0,availableMoves:o,mandatory:!0});case 25:return e.abrupt("return",1);case 28:return e.abrupt("return",2);case 29:case"end":return e.stop()}}),e,null,[[6,10,14,22],[15,,17,21]])})));return function(t,a,r,n,i){return e.apply(this,arguments)}}(),a.highlightField=function(e,t,r){var n=a.state.highlight.slice();n[e][t]=r,n=a.setState({highlight:n})},a.disableHighlight=function(e){var t=Array(8).fill().map((function(){return Array(8).fill(0)}));a.setState({highlight:t},(function(){return e(!0)}))},a.findMoveTypes=function(e,t,r,n,i){var l={from:[],to:[]},o={from:[],to:[]},c=0,s=0;r.forEach((function(a,r){c=a?e[a[0]][a[1]]:0,s=n[r]?e[n[r][0]][n[r][1]]:0,10===c?(o.from.push(i),o.to.push(a)):c%2!==t%2&&10===s&&(l.from.push(i),l.to.push(n[r]))})),l.from.length>0?(l.from.forEach((function(e,t){a.highlightField(e[0],e[1],1),a.highlightField(l.to[t][0],l.to[t][1],3)})),a.setState({moveType:0,availableMoves:l})):(o.from.forEach((function(e,t){a.highlightField(e[0],e[1],1),a.highlightField(o.to[t][0],o.to[t][1],3)})),a.setState({moveType:1,availableMoves:o}))},a.resetGame=function(){a.setState({values:[[0,12,0,12,0,12,0,12],[12,0,12,0,12,0,12,0],[0,12,0,12,0,12,0,12],[10,0,10,0,10,0,10,0],[0,10,0,10,0,10,0,10],[11,0,11,0,11,0,11,0],[0,11,0,11,0,11,0,11],[11,0,11,0,11,0,11,0]],highlight:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],player:1,current:[],captured:[0,0],availableMoves:{from:[],to:[]},moveType:1,mandatory:!1})},a.checkGameState=function(e,t,r,n,i,l){return 12===r[0]?(a.setState({black:a.state.black+1}),{king:t,newKing:!1,gameEnd:!0}):12===r[1]?(a.setState({red:a.state.red+1}),{king:t,newKing:!1,gameEnd:!0}):!t&&1===e&&0===i||2===e&&7===i?(n[i][l]=10+e+2,a.setState({values:n}),{king:!0,newKing:!0,gameEnd:!1}):{king:t,newKing:!1,gameEnd:!1}},a.movePiece=function(){var e=Object(u.a)(c.a.mark((function e(t,r,n,i,l,o){var s,h,v;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t[o[0]][o[1]]=t[l[0]][l[1]],t[l[0]][l[1]]=10,s=a.state.captured.slice(),0===i&&(h=(o[0]+l[0])/2,v=(o[1]+l[1])/2,t[h][v]=10,s[r-1]=s[r-1]+1),0,e.next=7,a.setState({captured:s,availableMoves:{from:[],to:[]}},Object(u.a)(c.a.mark((function e(){var l,u,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.checkGameState(r,n,s,t,o[0],o[1]);case 2:if(!(l=e.sent).gameEnd){e.next=5;break}return e.abrupt("return",0);case 5:if(l.gameEnd||l.newKing||0!==i){e.next=17;break}return u=a.getAllMoves(r,l.king,1,o[0],o[1]),h=a.getAllMoves(r,l.king,2,o[0],o[1]),a.disableHighlight((function(e){})),e.next=11,a.checkMandatoryMove(t,r,u,h,[o[0],o[1]]);case 11:if(1!==e.sent){e.next=16;break}return e.abrupt("return",0);case 16:a.switchPlayer();case 17:(1===i||l.newKing)&&a.disableHighlight((function(e){e&&a.switchPlayer()}));case 18:case"end":return e.stop()}}),e)}))));case 7:case"end":return e.stop()}}),e)})));return function(t,a,r,n,i,l){return e.apply(this,arguments)}}(),a.getAllMoves=function(e,t,a,r,n){var i=[];return(t?[[r-a,n-a],[r-a,n+a],[r+a,n-a],[r+a,n+a]]:1===e?[[r-a,n-a],[r-a,n+a]]:[[r+a,n-a],[r+a,n+a]]).forEach((function(e){0<=e[0]&&e[0]<=7&&0<=e[1]&&e[1]<=7?i.push(e):i.push(null)})),i},a.inputHighlight=function(e){var t=a.state.highlight.slice();e.forEach((function(e){t[e[0]][e[1]]=2}))},a.handleClick=function(e){var t=a.state,r=t.player,n=t.availableMoves,i=t.moveType,l=t.mandatory,o=t.chooseInputMode,c=a.state.values.slice(),u=Object(s.a)(e,2),h=u[0],v=u[1],f=c[h][v],p=f>12,g=!0,m=!1,d=void 0;try{for(var b,y=n.to.entries()[Symbol.iterator]();!(g=(b=y.next()).done);g=!0){var k=b.value,w=Object(s.a)(k,2),E=w[0],x=w[1];if(x[0]===h&&x[1]===v)return n.to.length>=2&&0===i&&n.to[0].toString()===n.to[1].toString()?(a.inputHighlight(n.from),a.setState({chooseInputMode:!0})):a.movePiece(c,r,p,i,n.from[E],x)}}catch(I){m=!0,d=I}finally{try{g||null==y.return||y.return()}finally{if(m)throw d}}if(l||0===f||10===f||f%2!==r%2||a.disableHighlight((function(t){t&&a.highlightField(h,v,1);var n=a.getAllMoves(r,p,1,h,v),i=a.getAllMoves(r,p,2,h,v);a.findMoveTypes(c,r,n,i,e)})),o){var M=!0,S=!1,O=void 0;try{for(var j,C=n.from.entries()[Symbol.iterator]();!(M=(j=C.next()).done);M=!0){var A=j.value,K=Object(s.a)(A,2),F=K[0],T=K[1];if(T[0]===h&&T[1]===v)return a.setState({chooseInputMode:!1}),a.movePiece(c,r,p,i,T,n.to[F])}}catch(I){S=!0,O=I}finally{try{M||null==C.return||C.return()}finally{if(S)throw O}}}},a.state={values:[[0,12,0,12,0,12,0,12],[12,0,12,0,12,0,12,0],[0,12,0,12,0,12,0,12],[10,0,10,0,10,0,10,0],[0,10,0,10,0,10,0,10],[11,0,11,0,11,0,11,0],[0,11,0,11,0,11,0,11],[11,0,11,0,11,0,11,0]],highlight:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],player:1,current:[],captured:[0,0],availableMoves:{from:[],to:[]},moveType:1,mandatory:!1,chooseInputMode:!1,red:0,black:0},a}return Object(g.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e={background:2===this.state.player?"linear-gradient(180deg, rgba(225, 99, 75, 1) 11%, rgba(255, 255, 255, 1) 100%)":"linear-gradient(180deg, rgba(255,255,255,1) 11%, rgba(57, 41, 29,1) 100%)"};return n.a.createElement("div",{className:"App",style:e},n.a.createElement("h1",null,"CHECKERS",n.a.createElement("sub",null,"multiplayer")),n.a.createElement(d,{values:this.state.values,highlight:this.state.highlight,handleClick:this.handleClick}),n.a.createElement(b,{player:this.state.player,mandatory:this.state.mandatory,chooseInputMode:this.state.chooseInputMode,captured:this.state.captured,resetGame:this.resetGame,red:this.state.red,black:this.state.black}))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[11,1,2]]]);
//# sourceMappingURL=main.48677e80.chunk.js.map